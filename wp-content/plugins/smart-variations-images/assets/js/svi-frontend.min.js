
if(!WOOSVI){var WOOSVI={}}else{if(WOOSVI&&typeof WOOSVI!=="object"){throw new Error("WOOSVI is not an Object type")}}WOOSVI.isLoaded=false;WOOSVI.STARTS=function(i){var k=i("a.woocommerce-main-image").html();var m=i(".variations_form");var l=i("div#woosvi_strap");var d=m.data("product_variations");var h=m.find(".variations select").length;var g=true;var e=0;var a=false;var j=(WOOSVIDATA.lightbox=="1")?true:false;var c=(WOOSVIDATA.lens=="1")?true:false;var b=(WOOSVIDATA.hide_thumbs=="1")?true:false;var f=false;return{NAME:"Application initialize module",VERSION:4.2,init:function(){this.loadInits()},loadInits:function(){if(h>0){if(d){WOOSVI.STARTS.variationChange()}else{if(!a){WOOSVI.STARTS.variationAjax()}else{WOOSVI.STARTS.variationAjaxDedault()}}if(b){l.find("div#woosvithumbs").hide()}WOOSVI.STARTS.variationReset()}else{WOOSVI.STARTS.startSingleVariation()}},variationChange:function(){var n=true;m.on("show_variation",function(q,o){n=false;if(typeof o=="object"&&Object.keys(o.additional_images).length>0){var p=WOOSVI.STARTS.getImageItem(o.additional_images);l.find("div#woosvimain").html("").prepend(i(p).first().find("img").data("svisingle"));WOOSVI.STARTS.domConstruct(p,true)}return});setTimeout(function(){if(n){WOOSVI.STARTS.startVariationsEmpty()}},150)},variationAjax:function(){var n=true;a=true;i(document).ajaxSend(function(p,q,o){if(o.url.indexOf("wc-ajax=get_variation")>=0){l.find("div#woosvimain,div#woosvithumbs").empty();n=false}}).ajaxComplete(function(r,s,q){if(q.url.indexOf("wc-ajax=get_variation")>=0){var o=s.responseJSON;var p=WOOSVI.STARTS.getImageItem(o.additional_images);l.find("div#woosvimain").prepend(i(p).first().find("img").data("svisingle"));WOOSVI.STARTS.domConstruct(p,true);n=true;return}});setTimeout(function(){if(n){WOOSVI.STARTS.variationAjaxDedault()}},150)},variationAjaxDedault:function(){var n;l.find("div#woosvimain").html("").append(k);i.each(WOOSVIDATA.failsafe,function(p,o){n+=WOOSVI.STARTS.getImageItem(o.additional_images)});WOOSVI.STARTS.domConstruct(n)},variationReset:function(){m.on("click",".reset_variations",function(o,n){l.find("div#woosvimain,div#woosvithumbs").empty();WOOSVI.STARTS.loadInits()})},startVariationsEmpty:function(){var n=WOOSVI.STARTS.getItems();l.find("div#woosvimain").html("").append(k);WOOSVI.STARTS.domConstruct(n)},startSingleVariation:function(){var n;l.find("div#woosvimain").html("").append(k);i.each(WOOSVIDATA.failsafe,function(p,o){n+=WOOSVI.STARTS.getImageItem(o.additional_images)});WOOSVI.STARTS.domConstruct(n)},ActivateSwapImage:function(){i("ul.svithumbnails img").click(function(n){WOOSVI.STARTS.initSwap(this)})},initSwap:function(n){var p=new Image();var o=i(n).data("svisingle");p.src=i(o).attr("src");i("div#woosvimain").prepend('<div class="sviLoader_thumb"></div>');i(p).on("load",function(){i("div#woosvimain img").fadeOut("fast").remove();i("div#woosvimain").prepend(i(o).hide());i("div#woosvimain img").fadeIn("fast");i("div#woosvimain").find(".sviLoader_thumb").fadeOut().remove();i("div.sviLoader_thumb").remove();WOOSVI.STARTS.prettyPhoto();WOOSVI.STARTS.LoadLens()})},getItems:function(){var n="";i.each(d,function(p,o){n+=WOOSVI.STARTS.getImageItem(o.additional_images)});return n},getImageItem:function(o){var n="";i.each(o,function(q,p){n+='<li data-thumb="'+p.thumb[0]+'" data-src="'+p.single[0]+'">';n+='<div class="sviLoader_thumb"></div>';n+=p.img_thumb;n+="</li>"});return n},loadImages:function(o){var n=i(o).size()-1;i.each(i(o),function(r,q){var p=[""];if(r===0||r%WOOSVIDATA.columns===0){p.push("first")}if((r+1)%WOOSVIDATA.columns===0){p.push("last")}if(r===n){p.push("last")}i(q).addClass(p.join(" "));l.find("ul.svithumbnails").append(i(q))})},imagesLoader:function(n){if(!g){return}g=false;l.imagesLoaded().progress(WOOSVI.STARTS.onProgress).done(function(o){l.removeClass("svihidden");WOOSVI.STARTS.ActivateSwapImage();WOOSVI.STARTS.prettyPhoto();WOOSVI.STARTS.LoadLens();l.find(".sviLoader_thumb").fadeOut().remove();g=true;if(b&&n){l.find("div#woosvithumbs").slideDown()}})},onProgress:function(p,o){var n=i(o.img).parent();n.find(".sviLoader_thumb").fadeOut().remove()},domConstruct:function(o,n){var p=" columns-"+WOOSVIDATA.columns;if(l.find("ul.svithumbnails li").length>0){l.find("ul.svithumbnails li").remove()}else{l.find("div#woosvithumbs").prepend('<ul class="svithumbnails'+p+'"></ul>')}WOOSVI.STARTS.loadImages(o);WOOSVI.STARTS.imagesLoader(n)},prettyPhoto:function(){if(!j){return}i("div#woosvimain > img").on("click",function(p){p.preventDefault();var o=i(this).attr("src");var r=i(this).attr("title");var n=[];var q=[];i("div#woosvithumbs ul.svithumbnails li").each(function(){var s=i(this).data("src");n.push(s);q.push(i(this).find("img").attr("title"))});if(i.isEmptyObject(n)){n.push(o);q.push(r)}i.prettyPhoto.open(n,q);i("div.pp_gallery").find('img[src="'+o+'"]').parent().trigger("click")})},LoadLens:function(){if(!c){return}if(f){return}f=true;i("div.sviZoomContainer").remove();var n,o;var p=setInterval(function(){if(i("div.sviZoomContainer").length<=0){n=i("div#woosvimain .swiper-slide-active img, div#woosvimain>img");o={sviZoomType:"lens",lensShape:"round",lensSize:150,cursor:"pointer",galleryActiveClass:"active",containLensZoom:true,loadingIcon:true,};n.ezPlus(o);f=false;clearInterval(p)}},500)},}}(jQuery.noConflict());jQuery(document).ready(function(){WOOSVI.STARTS.init()});